language: php
php:
    - 5.6
    - 7.2
    - 7.3
    - 7.4
addons:
    sonarcloud:
        organization: "usernane"
        token:
            secure: I7T30hv9GFYP3nbZnFfwJBl7FTBg/XiGxa3gDa5SwuvgvyuHZi8oRI2S2idk4Ajn3Ml+GvAyvmE4ZVZE/MNk8n8VJw8RDlGFeZR4meKhlBmfgh9ywMB1WbD9wJlw5/jQjdlDI7wVcXjeI69xF2qIsX1w74ui5UUi9o3lZaYI2nx6rGQPAB1g4S4DQbD/xp9JkduA41Ezg7wzZPuwmbeNbrPP672c6UMg63skArIs1lPGTO8As8RKq8lZspmdbkDzvMCcB8QNyHUH3ktM+TaaCoUvStc8PiuXAoIwBAeH6KjvWDyeQGKZqmpUUQD/hY/8dyOk22LuZbz0SGO23aUZ+BZ6aMNNWZFRhTNIOlMNGtXgY/+RGeftV9Jz36/xwQpK8E374uya5D/ENo1XKsDiAjGpCD2X1tTGPhtjVcyt9B94iL/3VEVjOwX/g28vw24ASJagn6zZzfuq4Ad13JTiIiYy4j3mBWhjoJY+aE2mbpdealC3/7P9/hBIl2oetPOgyNLcEbcTphro4aeJE1Dk1bfq8ng/oveC0JqRUeW9oYtBK02+oH9cKvTTMeCM2rqhQQG5qlH9bWArc8WlTIzR46qUugw5QZ1Y4MJvfM/QFkr6Bv0Ww7awTf8t9IgT9DSs75ngTzIb3U3+rOdr1HuBoHlFyMcWDc9mb27+B0Z7qcw=

before_script:
    - composer self-update
    - composer install --prefer-source --no-interaction --dev
script:
    - phpunit --verbose --configuration phpunit.xml
after_success:
    - bash <(curl -s https://codecov.io/bash)
    - sonar-scanner